# Little Ones Safety


## サービス概要

自宅内での子どもの怪我に不安を感じている人へ
診断機能により、自宅内における子どもにとっての危険な物や場所、状態を確認し、グッズを活用した安全対策を知ることができる
リスク管理サービスです。


## 想定されるユーザー層

自宅内での子どもの怪我に不安を感じている人


## サービスコンセプト
- ユーザーが抱えている課題

幼児期になると、一人歩きができるようになり行動範囲が増え、目を離した隙に危険な行動により怪我をするリスクが高くなります。
しかし、核家族化の進行や共働き、ひとり親のご家庭など、子どもの行動を見守れる環境が乏しい状況で、子どもの危険な行動に伴う怪我に不安を感じていると考えました。

- 提供するサービスでどのように解決するのか

診断機能により、自宅内における子どもにとっての危険な物や場所、状態を確認し、グッズを活用した安全対策を認知していただき、
対応していただくことで、子どもの行動を見守れる環境が乏しい状況でも、子どもの怪我のリスクを下げることができると考えています。

- なぜこのサービスを作ろうと思ったのか

核家族化の進行や共働き、ひとり親のご家庭など、子どもの行動を見守れる環境が乏しい状況でも、子どもの安全を守る手助けができるサービスを作りたいと思いました。
以前、1歳児の姪が床に落ちていたレジャーシートで足を滑らせ、床に頭をぶつけて怪我をしたことがありました。
姪の父親は仕事に出ており、姪の母親が家事で忙しく、姪から目を離した際の出来事でした。
今回の事例から、滑りやすい物は床に置かず、また、事前に衝撃吸収マットを床に敷いていれば、怪我を避けられたかもしれません。
事前に自宅内における子どもにとっての危険な物や場所、状態を確認し、グッズを活用した安全対策を実施することで、子どもの行動を見守れる環境が乏しい状況であっても、
子どもの怪我のリスクを下げることができると考えています。

- サービスの推しポイント

  - 診断機能により、自宅内における子どもにとっての危険な物や場所、状態を確認し、グッズを活用した安全対策を知ることができます。
  必要に応じて、販売サイトにアクセスして、グッズの詳細を確認することができます。
  - 診断結果を保存することで、簡単なタスク管理機能が使用できます。診断結果に表示されている各課題を「未対応」、「完了」で分類できます。
  - ユーザー同士の情報共有を少しでも行いやすくするため、コメントへの返信機能（リアルタイム処理）、リプライ機能（リアルタイム処理）、
  通知機能（リアルタイム処理）、フォーカス機能（自分の投稿やコメント、コメントへの返信に対して、
  どのユーザーがどのコメントやコメントへの返信をしたのかをフォーカスしてくれる）なども実装しています。

## 実装を予定している機能
### MVP
- 診断機能
  - 質問機能
    - ステップ入力で質問を１つずつ表示
  - 結果表示機能
    - 回答内容に応じた結果を表示
  - 保存機能（ログイン必要）

- 投稿機能
  - 作成機能（ログイン必要）
    - 画像は複数枚添付可能
      - 画像管理は Active Storage を使用
      - バリアント処理は Vips を使用
      - preprocessed: true オプションを使用して、バックグラウンドジョブでバリアントの前処理を実施
      - 上記の「バックグラウンドジョブでのバリアントの前処理」には、redis,sidekiq を使用
      - 複数枚の画像を添付する際は、「フォルダから一度にまとめて選択して添付」、「複数回に分けて添付」どちらも可能
      - 添付した画像の中から、任意の画像をフォーム送信前に削除可能
  - 一覧機能
  - 詳細機能
  - 編集機能（ログイン必要）
  - 削除機能（ログイン必要）

  - コメント機能
    - 作成機能（ログイン必要）
    - 一覧機能
    - 編集機能（ログイン必要）
    - 削除機能（ログイン必要）

    - コメント返信機能（ログイン必要 / リアルタイム処理 / チャット形式）
      - 作成機能
      - 一覧機能
      - 編集機能
      - 削除機能
      - リプライ機能

  - いいね機能（ログイン必要）
    - 登録機能
    - 解除機能

  - お気に入り機能（ログイン必要）
    - 登録機能
    - 解除機能

- 通知機能（ログイン必要 / リアルタイム処理）
  - 通知のタイミング
    - 自分の 投稿 に対して、コメント があった場合
    - 自分の コメント に対して、返信 があった場合
    - 自分の コメントへの返信 に対して、リプライ された場合
  - 既読機能
    - 一つずつ既読
    - まとめて既読

- マイページ（ログイン必要）
  - ユーザー情報の編集機能
    - 「アバター」、「ユーザー名」、「メールアドレス」が変更可能

  - 診断結果管理機能
    - 診断結果の一覧機能
    - 診断結果の詳細機能
    - 診断結果のタイトル編集機能
    - 診断結果の削除機能
    - タスク管理機能
      - 各タスクを「未対応」、「完了」で分類可能
    
  - My投稿一覧機能
  - お気に入り登録した投稿の一覧機能

- アカウント関連の機能
  - 会員登録機能
  - ログイン機能
  - ログアウト機能（ログイン必要）
  - Google認証機能
  - ゲストログイン機能
  - パスワードリマインダー機能

- その他
  - 検索機能
    - 投稿一覧機能 / コメント機能 / コメント返信機能 / マイページ「My投稿一覧機能」 / マイページ「お気に入り登録した投稿の一覧機能」
  - フォーカス機能（ログイン必要）
    - コメント機能 / コメント返信機能
  - ページネーション機能
    - 投稿一覧機能 / マイページ「My投稿一覧機能」 / マイページ「お気に入り登録した投稿の一覧機能」
  - SNS（X）シェア機能
  - 問い合わせ
  - プライバシー
  - 利用規約

### MVP以降の機能
- 検索機能
  - オートコンプリート機能
- 投稿作成機能（画像添付機能）
  - スマホで直接撮影した画像を添付できるようにする
- 会員登録・ログイン機能
  - 入力中のパスワードを表示できる機能
- 管理画面
- RSpec


## 画面遷移図
[Figma](https://www.figma.com/file/EWhhdX6Laad9SzDdOefpUk/children_risk_management_app?type=design&node-id=0%3A1&mode=design&t=J85eOYoD4gyJ7fTA-1)


## ER図
![Alt text](app/assets/images/children_risk_ER%E5%9B%B3.drawio.png)


## 使用技術
### フロントエンド
- HTML / CSS / JavaScript (Turbo, Stimulus)
- CSS frame-work
  - Bootstrap 5.3.2

### バックエンド
- Ruby 3.2.2
- Rails 7.1.2

### インフラ
- Heroku
  - PostgreSQL
  - Redis
  - Sidekiq
  - Heroku Scheduler
- AWS
  - Amazon S3
